{% extends 'landing/base.html' %}
{% load crispy_forms_tags %}
{% block content %}


<br>
<br>
<br>
<div class="wrapper">
    <a href="{% url 'post-list' %}" class="btn btn-light mb-3">Back to Feed</a>
          
             
      
        <div class="client dark mt-4">
            <span class="image-container position-absolute">
                <img width="80" height="80" alt="Billy Whited portrait" src="{{ post.author.profile.profile_pic.url }}">					 
            </span>
                <h2 class="heading">{{post.author}} {% if post.author == request.user %}
                <a href="{% url 'post-edit' post.pk %}" style="color:#fff;" class="position-relative"><i class="fa fa-edit"></i></a>
                <a href="{% url 'post-delete' post.pk %}" style="color:#fff;" class="position-relative"><i class="fa fa-trash"></i></a></p>
            {% endif %}</h2> 
            <p>{{post.body}}</p>
        </div>

                  <div class="card">
                    <div class="chat-container">
                    <div class="card-header d-flex justify-content-between align-items-center p-3"
                      style="border-top: 4px solid #ffa900;">
                      <h5 class="mb-0">Comments</h5>
                      <div class="d-flex flex-row align-items-center">
                        <span class="badge bg-warning me-3">{{ post.comment_set.count }}</span>
                        <i class="fas fa-minus me-3 text-muted fa-xs"></i>
                        <i class="fas fa-comments me-3 text-muted fa-xs"></i>
                        <i class="fas fa-times text-muted fa-xs"></i>
                      </div>
                    </div>
                    <div class="card-body" data-mdb-perfect-scrollbar="true" style="position: relative; height: 400px">
                        {% for comment in comments %}
                      {% if comment.author == post.author %}
                      <div class="d-flex justify-content-between">
                          <p class="small mb-1 text-muted">{{comment.created_on}}</p>
                          <p class="small mb-1">{{comment.author}}</p>
                        </div>
                        <div class="d-flex flex-row justify-content-end mb-4 pt-1">
                            <div>
                                <p class="small p-2 me-3 mb-3 text-white rounded-3 bg-warning">{{comment.comment}}</p>
                            </div>
                            <img src="{{ comment.author.profile.profile_pic.url }}"
                            alt="avatar 1" style="width: 45px; height: 45px;  border-radius: 50%;">
                        </div>
                        {% else %}
                        <div class="d-flex justify-content-between">
                          <p class="small mb-1">{{comment.author}}</p>
                          <p class="small mb-1 text-muted">{{comment.created_on}}</p>
                        </div>
                        <div class="d-flex flex-row justify-content-start ">
                          <img src="{{ comment.author.profile.profile_pic.url }}"
                            alt="avatar 1" style="width: 45px; height: 45px; border-radius: 50%;">
                          <div>
                            <p class="small p-2 ms-3 mb-3 rounded-3" style="background-color: #f5f6f7;">{{comment.comment}}</p>
                          </div>
                        </div>
                        {% endif %}
                        {% empty %}
                        <p>No comments yet.</p>
                        {% endfor %}
          
    
            
          
                    </div>
                    </div>
                    <div class="card-footer text-muted d-flex justify-content-start align-items-center p-3">
          
                        <form method="post" class="input-group mb-0">
                            
                           
                                <input type="text" name="{{ form.comment.name }}" class="form-control" placeholder="Type message" id="{{ form.comment.id_for_label }}" />
                                <button class="btn btn-warning" type="submit" id="button-addon2" style="padding-top: .55rem;">
                                    Comment
                                </button>
             
                        </form>
            
                    </div>
                  </div>
          
                </div>
        
          

</div>
<style>
    .chat-container {
        max-height: 500px; /* Adjust this value to your needs */
    overflow-y: auto;
}
textarea {
    place-content: "Share you thoughts";
    width: 100% !important;
    border-radius: 20px;
}
        @font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 300;
  src: local('Open Sans Light'), local('OpenSans-Light'), url(http://themes.googleusercontent.com/static/fonts/opensans/v8/DXI1ORHCpsQm3Vp6mXoaTXhCUOGz7vYGh680lGh-uXM.woff) format('woff');
}
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 400;
  src: local('Open Sans'), local('OpenSans'), url(http://themes.googleusercontent.com/static/fonts/opensans/v8/cJZKeOuBrn4kERxqtaUH3T8E0i7KZn-EPnyo3HZu7kw.woff) format('woff');
}
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 600;
  src: local('Open Sans Semibold'), local('OpenSans-Semibold'), url(http://themes.googleusercontent.com/static/fonts/opensans/v8/MTP_ySUJH_bn48VBG8sNSnhCUOGz7vYGh680lGh-uXM.woff) format('woff');
}
@font-face {
  font-family: 'Open Sans';
  font-style: normal;
  font-weight: 700;
  src: local('Open Sans Bold'), local('OpenSans-Bold'), url(http://themes.googleusercontent.com/static/fonts/opensans/v8/k3k702ZOKiLJc3WVjuplzHhCUOGz7vYGh680lGh-uXM.woff) format('woff');
}
.wrapper {
	width:800px; margin:0 auto;
    
	font-family: "open sans",arial,sans-serif;
	margin-top:45px;
}
.title { font-size:45px; font-weight:bolder; padding-bottom:25px;
border-bottom:5px solid #ccc; margin-bottom:5px;}
.title-info { padding-bottom:25px; font-variant:small-caps;
}
.client {
    margin-bottom: 1.71875em;
    padding: 40px;
}
.client {
    color: #ffffff;
    margin-bottom: 1.375em;
    padding: 40px 20px;
    position: relative;
}
/* color list */
.dark {  background-color: #333333;}
.salmon { background-color:#FA8072;}
.purple { background-color:#800080;}
.darkcyan { background-color:#008B8B;}
.crimson { background-color:#DC143C;}
.dark .image-container img {border: 5px solid #333333;}
.salmon .image-container img {border: 5px solid #FA8072;}
.purple .image-container img {border: 5px solid #800080;}
.darkcyan .image-container img {border: 5px solid #008B8B;}
.crimson .image-container img {border: 5px solid #DC143C;}
/* color list */
.image-container {
    display: block;
    height: 100%;
    left: 0;
	box-shadow: 0 5px 15px #6a6767;
    margin: 0;
    position: absolute;
    top: 0;
    width: 100%;
}
.image-container img {
    left: -15px;
    position: absolute;
    top: -15px;
}
.image-container img {
    border-radius: 50%;
	height: 80px;
    margin-bottom: 1.375em;
    vertical-align: middle;
    width: 80px;
}
.heading {
    display: inline-block;
    font-size: 0.75em;
    letter-spacing: 0.15em;
    line-height: 1.83333em;
    margin: 0 0 1.83333em 20px;
    text-transform: uppercase;
    vertical-align: middle;
}
.heading {
    margin: 0 0 1.83333em 55px;
}
a{
    z-index: 1;
}
.info {
    font-style: italic;
    line-height: 1.54688em;
    position: relative;
    z-index: 1;
}
@media screen and (max-width: 810px) {
	.wrapper {
	width:500px; margin:0 auto;
}
}
@media screen and (max-width: 600px) {
	.wrapper {
	width:400px; margin:0 auto;
}
}
@media screen and (max-width: 450px) {
	.wrapper {
	width:100%; margin:0 auto;
	padding:5px;
}
.image-container img {
    left: 15px;
    position: absolute;
    top: 15px;
}
.heading {
    margin: 0 0 1.83333em 97px;
}
}
    </style>
 
{% endblock content %}